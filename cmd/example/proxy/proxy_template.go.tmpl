// proxy_template.go.tmpl
package {{.PackageName}}

import (
    "fmt"
    {{range .Imports}}
    {{.Alias}} "{{.Path}}"
    {{end}}
)

type {{.ProxyTypeName}} struct {
    target {{.InterfaceName}}
}

func New{{.ProxyTypeName}}(target {{.InterfaceName}}) {{.InterfaceName}} {
    return &{{.ProxyTypeName}}{target: target}
}

{{range .Methods}}
func (p *{{$.ProxyTypeName}}) {{.Name}}({{.Params}}) {{.Results}} {
    fmt.Println("Before {{.Name}}")
    {{if .HasResults}}{{.ResultVars}} := {{end}}p.target.{{.Name}}({{.ParamNames}})
    fmt.Println("After {{.Name}}")
    {{if .HasResults}}return {{.ResultVars}}{{end}}
}
{{end}}